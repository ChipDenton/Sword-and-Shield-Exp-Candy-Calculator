<!DOCTYPE html>
<html>
  <head>
    <title>Sword And Shield Exp Candy Calculator</title>

    <script type="text/javascript">
      function calculate(expRate, currExp, desiredLevel) {
        //alert("Parameters: " + expRate + " " + currExp + " " + desiredLevel);

        var expNeeded;

        // if erratic
        if (expRate === "Erratic") {
          if (desiredLevel <= 50) {
            expNeeded = ((desiredLevel ** 3) * (100 - desiredLevel)) / 50;
          }
          else if (desiredLevel > 50 && desiredLevel <= 68) {
            expNeeded = ((desiredLevel ** 3) * (150 - desiredLevel)) / 100;
          }
          else if (desiredLevel > 68 && desiredLevel <= 98) {
            expNeeded = ((desiredLevel ** 3) * Math.floor((1911 - (desiredLevel * 10)) / 3) ) / 500;
          }
          else {
            expNeeded = ((desiredLevel ** 3) * (160 - desiredLevel)) / 100;
          }
        }

        // if fast
        if (expRate === "Fast") {
          expNeeded = 4 * (desiredLevel ** 3) / 5;
        }

        // if medium fast
        if (expRate === "MediumFast") {
          expNeeded = desiredLevel ** 3;
        }

        if (expRate === "MediumSlow") {
          expNeeded = (6 / 5) * (desiredLevel ** 3) - 15 * (desiredLevel ** 2) + 100 * desiredLevel - 140;
          //alert(expNeeded);
        }

        // if slow
        if (expRate === "Slow") {
          expNeeded = 5 * (desiredLevel ** 3) / 4;
        }
        
        // if fluctuating
        if (expRate === "Fluctuating") {
          if (desiredLevel <= 15) {
            expNeeded = (desiredLevel ** 3) * ( (Math.floor((desiredLevel+1)/3) + 24) / 50  );
          }
          else if (desiredLevel > 15 && desiredLevel <= 36) {
            expNeeded = (desiredLevel ** 3) * ((desiredLevel + 14) / 50);
          }
          else {
            expNeeded = (desiredLevel ** 3) * ( (Math.floor(desiredLevel/2) + 32) / 50  );
          }
        }

        expNeeded = expNeeded - currExp;

        var xs = expNeeded / 100;
        xs = Math.ceil(xs);
        //alert(xs);
        document.getElementById("XS").innerText = xs;

        var s = expNeeded / 800;
        s = Math.ceil(s);
        document.getElementById("S").innerText = s;

        var m = expNeeded / 3000;
        m = Math.ceil(m);
        document.getElementById("M").innerText = m;

        var l = expNeeded / 10000;
        l = Math.ceil(l);
        document.getElementById("L").innerText = l;

        var xl = expNeeded / 30000;
        xl = Math.ceil(xl);
        document.getElementById("XL").innerText = xl;

      }
     </script>

     <style>
      table, th, td {
        border: 1px solid black;
      }
     </style>

  </head>
  <body>

    <form action="javascript:calculate(expRate.value, currExp.value, desiredLevel.value)">
      <select id="expRate">
        <option value="MediumSlow">Grookey, Thwackey, Rillaboom</option>
        <option value="MediumSlow">Scorbunny, Raboot, Cinderace</option>
        <option value="MediumSlow">Sobble, Drizzile, Inteleon</option>
        <option value="MediumFast">Blipbug, Dottler, Orbeetle</option>
        <option value="MediumFast">Caterpie, Metapod, Butterfree</option>
        <option value="MediumFast">Grubbin, Charjabug, Vikavolt</option>
        <option value="MediumFast">Hoothoot, Noctowl</option>
        <option value="MediumSlow">Rookidee, Corvisquire, Corviknight</option>
        <option value="MediumFast">Skwovet, Greedent</option>
        <option value="MediumSlow">Pidove, Tranquill, Unfezant</option>
        <option value="Fast">Nickit, Thievul</option>
        <option value="MediumFast">Zigzagoon, Linoone, Obstagoon</option>
        <option value="MediumFast">Wooloo, Dubwool</option>
        <option value="MediumSlow">Lotad, Lombre, Ludicolo</option>
        <option value="MediumSlow">Seedot, Nuzleaf, Shiftry</option>
        <option value="MediumFast">Chewtle, Drednaw</option>
        <option value="MediumFast">Purrloin, Liepard</option>
        <option value="Fast">Yamper, Boltund</option>
        <option value="MediumFast">Bunnelby, Diggersby</option>
        <option value="Fast">Minccino, Cinccino</option>
        <option value="MediumSlow">Bounsweet, Steenee, Tsareena</option>
        <option value="MediumSlow">Oddish, Gloom, Vileplume, Bellossom</option>
        <option value="MediumSlow">Budew, Roselia, Roserade</option>
        <option value="MediumFast">Wingull, Pelipper</option>
        <option value="MediumFast">Joltik, Galvantula</option>
        <option value="Slow">Electrike, Manectric</option>
        <option value="MediumFast">Vulpix, Ninetales</option>
        <option value="Slow">Growlithe, Arcanine</option>
        <option value="Slow">Vanillite, Vanillish, Vanilluxe</option>
        <option value="Slow">Swinub, Piloswine, Mamoswine</option>
        <option value="Fast">Delibird</option>
        <option value="MediumFast">Snorunt, Glalie, Froslass</option>
        <option value="MediumFast">Baltoy, Claydol</option>
        <option value="MediumFast">Mudbray, Mudsdale</option>
        <option value="MediumFast">Dwebble, Crustle</option>
        <option value="MediumFast">Golett, Golurk</option>
        <option value="Fast">Munna, Musharna</option>
        <option value="MediumFast">Natu, Xatu</option>
        <option value="MediumFast">Stufful, Bewear</option>
        <option value="Slow">Snover, Abomasnow</option>
        <option value="MediumFast">Krabby, Kingler</option>
        <option value="MediumFast">Wooper, Quagsire</option>
        <option value="Fluctuating">Corphish, Crawdaunt</option>
        <option value="Erratic">Nincada, Ninjask, Shedinja</option>
        <option value="MediumFast">Tyrogue, Hitmonlee, Hitmonchan, Hitmontop</option>
        <option value="MediumFast">Pancham, Pangoro</option>
        <option value="MediumSlow">Klink, Klang, Klinklang</option>
        <option value="MediumSlow">Combee, Vespiquen</option>
        <option value="MediumFast">Bronzor, Bronzong</option>
        <option value="Slow">Ralts, Kirlia, Gardevoir, Gallade</option>
        <option value="Fluctuating">Drifloon, Drifblim</option>
        <option value="MediumFast">Gossifleur, Eldegoss</option>
        <option value="MediumFast">Cherubi, Cherrim</option>
        <option value="MediumFast">Stunky, Skuntank</option>
        <option value="MediumSlow">Tympole, Palpitoad, Seismitoad</option>
        <option value="Fast">Duskull, Dusclops, Dusknoir</option>
        <option value="MediumSlow">Machop, Machoke, Machamp</option>
        <option value="MediumSlow">Gastly, Haunter, Gengar</option>
        <option value="Slow">Magikarp, Gyarados</option>
        <option value="MediumFast">Goldeen, Seaking</option>
        <option value="MediumFast">Remoraid, Octillery</option>
        <option value="Slow">Shellder, Cloyster</option>
        <option value="Erratic">Feebas, Milotic</option>
        <option value="MediumFast">Basculin</option>
        <option value="Fast">Wishiwashi</option>
        <option value="Fast">Pyukumuku</option>
        <option value="MediumFast">Trubbish, Garbodor</option>
        <option value="MediumFast">Sizzlipede, Centiskorch</option>
        <option value="MediumSlow">Rolycoly, Carkol, Coalossal</option>
        <option value="MediumFast">Diglett, Dugtrio</option>
        <option value="MediumFast">Drilbur, Excadrill</option>
        <option value="MediumSlow">Roggenrola, Boldore, Gigalith</option>
        <option value="MediumSlow">Timburr, Gurdurr, Conkeldurr</option>
        <option value="MediumFast">Woobat, Swoobat</option>
        <option value="MediumFast">Noibat, Noivern</option>
        <option value="MediumFast">Onix, Steelix</option>
        <option value="Slow">Arrokuda, Barraskewda</option>
        <option value="MediumFast">Meowth, Perrserker, Persian</option>
        <option value="MediumFast">Milcery, Alcremie</option>
        <option value="MediumFast">Cutiefly, Ribombee</option>
        <option value="MediumFast">Ferroseed, Ferrothorn</option>
        <option value="MediumFast">Pumpkaboo, Gourgeist</option>
        <option value="MediumFast">Pichu, Pikachu, Raichu</option>
        <option value="MediumFast">Eevee, Vaporeon, Jolteon, Flareon, Espeon, Umbreon, Leafeon, Glaceon, Sylveon</option>
        <option value="Erratic">Applin, Flapple, Appletun</option>
        <option value="MediumFast">Espurr, Meowstic</option>
        <option value="MediumFast">Swirlix, Slurpuff</option>
        <option value="MediumFast">Spritzee, Aromatisse</option>
        <option value="MediumFast">Dewpider, Araquanid</option>
        <option value="MediumFast">Wynaut, Wobbuffet</option>
        <option value="MediumFast">Farfetch'd, Sirfetch'd</option>
        <option value="Slow">Chinchou, Lanturn</option>
        <option value="MediumFast">Croagunk, Toxicroak</option>
        <option value="MediumFast">Scraggy, Scrafty</option>
        <option value="MediumFast">Stunfisk</option>
        <option value="MediumSlow">Shuckle</option>
        <option value="MediumFast">Barboach, Whiscash</option>
        <option value="MediumFast">Shellos, Gastrodon</option>
        <option value="MediumFast">Wimpod, Golisopod</option>
        <option value="MediumFast">Binacle, Barbaracle</option>
        <option value="Fast">Corsola, Cursola</option>
        <option value="MediumFast">Impidimp, Morgrem, Grimmsnarl</option>
        <option value="Slow">Hatenna, Hattrem, Hatterene</option>
        <option value="MediumFast">Salandit, Salazzle</option>
        <option value="MediumFast">Pawniard, Bisharp</option>
        <option value="MediumFast">Throh</option>
        <option value="MediumFast">Sawk</option>
        <option value="MediumFast">Koffing, Weezing</option>
        <option value="MediumFast">Bonsly, Sudowoodo</option>
        <option value="Fast">Cleffa, Clefairy, Clefable</option>
        <option value="Fast">Togepi, Togetic, Togekiss</option>
        <option value="Slow">Munchlax, Snorlax</option>
        <option value="MediumFast">Cottonee, Whimsicott</option>
        <option value="Slow">Rhyhorn, Rhydon, Rhyperior</option>
        <option value="MediumSlow">Gothita, Gothorita, Gothitelle</option>
        <option value="MediumSlow">Solosis, Duosion, Reuniclus</option>
        <option value="MediumFast">Karrablast, Escavalier</option>
        <option value="MediumFast">Shelmet, Accelgor</option>
        <option value="MediumFast">Elgyem, Beheeyem</option>
        <option value="MediumFast">Cubchoo, Beartic</option>
        <option value="Slow">Rufflet, Braviary</option>
        <option value="Slow">Vullaby, Mandibuzz</option>
        <option value="Slow">Skorupi, Drapion</option>
        <option value="MediumSlow">Litwick, Lampent, Chandelure</option>
        <option value="MediumFast">Inkay, Malamar</option>
        <option value="MediumSlow">Sneasel, Weavile</option>
        <option value="MediumSlow">Sableye</option>
        <option value="Fast">Mawile</option>
        <option value="MediumFast">Maractus</option>
        <option value="MediumFast">Sigilyph</option>
        <option value="MediumSlow">Riolu, Lucario</option>
        <option value="MediumFast">Torkoal</option>
        <option value="MediumFast">Mimikyu</option>
        <option value="MediumFast">Cufant, Copperajah</option>
        <option value="MediumFast">Qwilfish</option>
        <option value="MediumFast">Frillish, Jellicent</option>
        <option value="MediumFast">Mareanie, Toxapex</option>
        <option value="MediumFast">Cramorant</option>
        <option value="MediumSlow">Toxel, Toxtricity</option>
        <option value="MediumFast">Silicobra, Sandaconda</option>
        <option value="Slow">Hippopotas, Hippowdon</option>
        <option value="MediumFast">Durant</option>
        <option value="MediumFast">Heatmor</option>
        <option value="MediumFast">Helioptile, Heliolish</option>
        <option value="MediumFast">Hawlucha</option>
        <option value="MediumSlow">Trapinch, Vibrava, Flygon</option>
        <option value="Slow">Axew, Fraxure, Haxorus</option>
        <option value="MediumSlow">Yamask, Runerigus, Cofagrigus</option>
        <option value="MediumFast">Honedge, Doublade, Aegislash</option>
        <option value="MediumFast">Ponyta, Rapidash</option>
        <option value="MediumFast">Sinistea, Polteageist</option>
        <option value="Fast">Indeedee</option>
        <option value="MediumFast">Phantump, Trevenant</option>
        <option value="MediumFast">Morelull, Shiinotic</option>
        <option value="Slow">Oranguru</option>
        <option value="Slow">Passimian</option>
        <option value="MediumFast">Morpeko</option>
        <option value="MediumFast">Falinks</option>
        <option value="MediumFast">Drampa</option>
        <option value="MediumFast">Turtonator</option>
        <option value="MediumFast">Togedemaru</option>
        <option value="MediumFast">Snom, Frosmoth</option>
        <option value="MediumSlow">Clobbopus, Grapploct</option>
        <option value="MediumFast">Pincurchin</option>
        <option value="Slow">Mantyke, Mantine</option>
        <option value="Fluctuating">Wailmer, Wailord</option>
        <option value="MediumFast">Bergmite, Avalugg</option>
        <option value="MediumFast">Dhelmise</option>
        <option value="Slow">Lapras</option>
        <option value="Fast">Lunatone</option>
        <option value="Fast">Solrock</option>
        <option value="MediumFast">Mime Jr., Mr. Mime, Mr. Rime</option>
        <option value="MediumSlow">Darumaka, Darmanitan</option>
        <option value="Slow">Stonjourner</option>
        <option value="Slow">Eiscue</option>
        <option value="MediumFast">Duraludon</option>
        <option value="MediumFast">Rotom</option>
        <option value="MediumFast">Ditto</option>
        <option value="Slow">Dracozolt</option>
        <option value="Slow">Arctozolt</option>
        <option value="Slow">Dracovish</option>
        <option value="Slow">Arctovish</option>
        <option value="MediumSlow">Charmander, Charmeleon, Charizard</option>
        <option value="Slow">Type: Null, Silvally</option>
        <option value="Slow">Larvitar, Pupitar, Tyranitar</option>
        <option value="Slow">Deino, Zweilous, Hydreigon</option>
        <option value="Slow">Goomy, Sliggoo, Goodra</option>
        <option value="Slow">Jangmo-o, Hakamo-o, Kommo-o</option>
        <option value="Slow">Dreepy, Drakloak, Dragapult</option>
        <option value="Slow">Zacian</option>
        <option value="Slow">Zamazenta</option>
        <option value="Slow">Eternatus</option>
        <option value="MediumSlow">Mew</option>
        <option value="MediumFast">Slowpoke</option>
        <!--<option value="">Bulbasaur, Ivysaur, Venusaur</option>
        <option value="">Squirtle, Wartortle, Blastoise</option>
        Mewtwo.....etc-->

      </select>

      </br>

      Current Experience Points: <input type="number" id="currExp" value="0">

      </br>

      Desired Level: <input type="number" min="2" max="100" id="desiredLevel" value="50">

      <input type="submit" value="Calculate">

    </form>

    <table>
      <tr>
        <th>Exp. Candy</th>
        <th># needed</th>
      </tr>
      <tr>
        <td>Exp. Candy XS</td>
        <td id="XS"></td>
      </tr>
      <tr>
        <td>Exp. Candy S</td>
        <td id="S"></td>
      </tr>
      <tr>
        <td>Exp. Candy M</td>
        <td id="M"></td>
      </tr>
      <tr>
        <td>Exp. Candy L</td>
        <td id="L"></td>
      </tr>
      <tr>
        <td>Exp. Candy XL</td>
        <td id="XL"></td>
      </tr>
    </table>

  </body>
</html>